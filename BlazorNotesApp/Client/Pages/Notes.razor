@page "/notes"
@inject INotesService NotesService
@inject NavigationManager NavigationManager

<PageTitle>Notes</PageTitle>
<h3>Notes</h3>

 <ul class="list-group">
    @foreach(var note in NotesService.Notes)
    {
   
        <li class="list-group-item d-flex justify-content-between align-items-start ">
            <div class="ms-2 me-auto">
                <div class="fw-bold">@note.Heading</div>
                    @note.Body.Substring(0, 50) ...
            </div>
            <button class="btn btn-primary" @onclick="(() => ShowNote(note.Id))">
                <i class="oi oi-pencil"></i>
            </button>
        </li>
   
    }
 </ul>

@code {


    protected override async Task OnInitializedAsync()
    {
        await NotesService.GetNotes();
    }

    void ShowNote(int id)
    {
        NavigationManager.NavigateTo($"/note/{id}");
    }
}
